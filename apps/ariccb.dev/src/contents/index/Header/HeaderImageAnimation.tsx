import clsx from 'clsx';
import { m } from 'framer-motion';

const animation = {
  hide: { pathLength: 0.3 },
  show: (i) => {
    const delay = 0.6 + i * 0.1;
    return {
      pathLength: 1,
      transition: {
        pathLength: { delay, duration: 1 },
      },
    };
  },
};

interface HeaderImageAnimationProps {
  onAnimationComplete?: () => void;
}

function HeaderImageAnimation({
  onAnimationComplete = () => {},
}: HeaderImageAnimationProps) {
  return (
    <m.svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="-70 42 853 640"
      fill="none"
      initial="hide"
      animate="show"
      strokeWidth={1.5}
      strokeLinecap="round"
      strokeLinejoin="round"
      className={clsx(
        'stroke-accent-500 h-[590px] w-[608px] opacity-60',
        'dark:opacity-40'
      )}
      onAnimationComplete={onAnimationComplete}
    >
      <m.path
        variants={animation}
        custom={1}
        d="M -69.109 801.441 C -69.109 777.366 -71.911 753.334 -71.494 729.165 C -71.38 722.514 -69.04 717.012 -68.177 710.791 C -65.987 695.002 -68.305 678.367 -65.077 662.643 C -61.949 647.402 -57.147 632.18 -53.104 616.878 C -47.85 596.992 -43.837 575.449 -33.652 557.005 C -26.058 543.253 -13.18 532.071 -3.125 520.507 C 2.849 513.636 15.288 509.167 22.644 503.957 C 31.113 497.958 38.984 494.228 48.406 489.405 C 51.26 487.943 54.87 488.873 57.84 486.941 C 63.017 483.574 66.775 478.48 72.654 476.169 C 79.536 473.464 86.917 475.915 93.72 473.052 C 101.699 469.696 108.127 464.138 116.022 460.652 C 127.678 455.506 137.288 447.76 148.531 442.163 C 150.994 440.936 158.645 439.6 159.982 436.925 C 165.81 425.27 174.902 411.646 177.297 398.316 C 179.568 385.674 170.913 375.939 168.155 364.441 C 162.768 341.989 158.804 316.609 148.33 295.895 C 144.417 288.156 137.119 282.673 134.264 274.313 C 133.013 270.648 132.964 262.601 137.048 260.997 C 141.617 259.203 148.919 263.286 148.873 262.394 C 148.332 252.081 140.667 244.671 138.523 235.133 C 134.131 215.6 131.487 196.204 127.885 176.722 C 127.284 173.474 129.568 170.347 129.305 166.407 C 128.895 160.261 123.505 156.213 124.202 149.758 C 124.674 145.382 128.161 140.599 130.329 136.659 C 135.129 127.937 134.619 119.267 142.455 112.172 C 148.509 106.692 148.678 93.157 155.462 87.731 C 156.972 86.523 159.952 87.835 161.146 86.846 C 163.784 84.66 162.148 81.36 164.335 79.32 C 168.453 75.479 172.862 70.421 178.102 67.321 C 181.798 65.133 185.426 62.886 188.469 60.429 C 193.092 56.695 198.211 53.474 203.188 50.386 C 206.831 48.125 213.164 48.787 215.994 46.778 C 217.656 45.598 203.486 40.547 206.304 38.243 C 211.004 34.399 216.824 38.928 220.776 39.96 C 226.139 41.361 233.556 38.537 238.775 40.411 C 239.377 40.627 251.058 43.908 251.029 43.018 C 250.903 39.222 235.465 37.402 235.104 34.35 C 234.952 33.065 237.858 34.224 238.942 34.93 C 241.323 36.48 244.9 37.067 247.601 38.014 C 254.737 40.515 266.485 40.427 272.649 45.141 C 279.601 50.458 282.837 53.976 290.28 57.685 C 291.129 58.109 296.563 61.17 297.683 60.087 C 299.145 58.674 295.917 49.996 296.409 49.789 C 298.592 48.87 302.045 56.016 303.44 57.084 C 307.289 60.032 300.473 52.1 305.142 54.618 C 306.265 55.224 311.54 60.821 312.018 62.229 C 314.315 68.996 321.158 70.704 324.244 76.241 C 324.741 77.132 324.864 82.749 325.57 83.165 C 327.827 84.495 333.541 82.55 336.37 82.97 C 338.747 83.322 341.864 86.834 343.918 88.084 C 345.668 89.15 354.388 100.381 356.448 98.836 C 357.988 97.681 355.685 93.77 357.882 92.159 C 360.199 90.46 362.895 103.512 363.953 105.538 C 366.764 110.926 367.085 118.532 366.523 124.71 C 366.176 128.52 363.857 129.804 362.76 133.017 C 361.425 136.927 361.07 138.946 362.302 142.893 C 364.852 151.064 367.804 161.071 371.632 167.486 C 376.235 175.199 376.394 185.795 377.607 194.511 C 378.53 201.138 378.548 206.702 379.169 213.295 C 379.433 216.106 378.985 226.967 377.472 229.169 C 375.947 231.389 379.102 236.929 379.518 239.873 C 380.358 245.821 382.875 244.56 385.831 252.477 C 386.751 254.94 385.138 263.09 384.431 265.765 C 383.326 269.946 383.07 272.438 381.829 276.534 C 379.475 284.307 376.46 289.367 373.363 296.832 C 372.01 300.093 369.472 307.424 368.166 310.523 C 365.921 315.851 365.728 319.971 365.514 324.9 C 364.866 339.847 361.354 342.417 356.626 361.936 C 354.853 369.258 343.784 396.257 344.876 404.449 C 345.699 410.623 351.956 428.172 356.564 432.291 C 368.382 442.854 380.274 443.15 393.783 452.383 C 409.479 463.111 428.19 468.883 446.112 475.4 C 455.362 478.764 463.812 484.204 473.014 487.836 C 476.644 489.268 481.14 488.845 484.959 490.143 C 497.775 494.497 508.251 501.119 518.755 509.156 C 522.429 511.968 527.494 520.78 530.196 524.558 C 535.834 532.444 542.105 539.314 546.751 548.115 C 553.622 561.134 554.042 576.994 557.438 591.042 C 561.329 607.136 562.185 623.626 565.898 639.704 C 567.659 647.328 571.026 656.024 571.471 663.792 C 572.14 675.482 568.946 686.953 569.673 698.714 C 570.224 707.626 573.876 717.538 573.085 726.352 C 572.254 735.61 567.648 744.647 567.194 754.003 C 566.385 770.635 571.051 786.473 571.051 802.911"
      />
    </m.svg>
  );
}

export default HeaderImageAnimation;
